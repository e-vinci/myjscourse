(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[926],{5338:function(e,t,n){"use strict";var r=n(7294),a=n(6267),c=n.n(a);t.Z=function(e){var t,n,a=e.className,i=e.isBeingEdited,s=e.onChange,o=e.startContent,l=e.id,d=e.isInline,u=e.children;return i?t=o:u?t=u:o&&(t=c().decode(o)),n=a||"",i&&(n+=" index__card__content__description--is-being-edited"),d&&(n+=" index__card__content__description--is-inline"),r.createElement("div",{className:n,contentEditable:!!i,onInput:function(e){var t={};t[l]=e.currentTarget.textContent,s(t)},suppressContentEditableWarning:!0},t)}},2765:function(e,t,n){"use strict";n.d(t,{w:function(){return m},i:function(){return v}});var r=n(6156),a=n(2137),c=n(7757),i=n.n(c),s=n(7294),o=n(4701),l=n(7123);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=s.createContext([{},function(){},{},function(){},!1,function(){}]),m=function(e){var t=e.children,n=(0,s.useState)(void 0),r=n[0],a=n[1],c=(0,s.useState)(void 0),i=c[0],o=c[1],l=(0,s.useState)(void 0),d=l[0],u=l[1],m=(0,s.useState)(!1),p=m[0],v=m[1];return s.createElement(_.Provider,{value:[r,a,i,o,d,u,p,v]},t)},p=0,v=function(){var e=(0,s.useContext)(_),t=e[0],n=e[1],r=e[2],c=e[3],d=e[4],m=e[5],v=e[6],f=e[7],E=function(){var e=(0,a.Z)(i().mark((function e(t,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("reviews/users/"+t+"/projectgroups/"+r+"/count","get",(0,l.lI)(),void 0);case 3:return a=e.sent,n(a),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error("useReviewData:updateMyReviewSummaryData:error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,0===p&&f(!1),p++,e.next=5,(0,o.Z)("reviews/users/"+t+"/projectgroups/"+n,"get",(0,l.lI)(),void 0);case 5:return r=e.sent,m(r),0===--p&&f(!0),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error("useReviewData:updateMyReviewsData:error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,0===p&&f(!1),p++,e.next=5,(0,o.Z)("reviews/projectgroups/"+t+"/summary","get",(0,l.lI)(),void 0);case 5:return n=e.sent,c(n),0===--p&&f(!0),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error("useReviewData:updateAllReviewsData:error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("reviews/"+n,"PATCH",(0,l.lI)(),t);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error("useReviewData:updateProjectReview:error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("reviews","POST",(0,l.lI)(),u(u({},t),{},{projectId:n}));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error("useReviewData:createFreeProjectReview:error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return u({},{myReviewSummaryData:t,updateMyReviewSummaryData:E,allReviewsData:r,updateAllReviewsData:N,myReviewsData:d,updateMyReviewsData:x,updateExpectedProjectReview:b,createFreeProjectReview:w,isLoaded:v,setIsLoaded:f})}},2670:function(e,t,n){"use strict";var r=n(7294),a=(n(5444),n(820),n(9671),n(6267),n(3364)),c=n(5514);t.Z=function(e){var t=e.myReviewsSummary;return t?r.createElement("div",{className:"card card--dark-summary card--fill-wrapper"},r.createElement("div",{className:"card__header"},"Résumé de mes revues"),r.createElement("div",{className:"card__content card__content--long-titles"},r.createElement("div",{className:"card__content__title"},"Coups de coeurs disponibles"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.m6i}),r.createElement("span",{className:"text--light"},t.availableLike)),r.createElement("div",{className:"card__content__title"},"Revues attendues"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg,className:"card__content--orange"}),r.createElement("span",{className:"text--light"},t.expectedReviews)),r.createElement("div",{className:"card__content__title"},"Revues terminées"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg}),r.createElement("span",{className:"text--light"},t.alreadyReviewed)))):null}},9671:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(6156),a=n(2137),c=n(7757),i=n.n(c),s=n(7294),o=n(820),l=(n(6267),n(3364)),d=n(5514),u=n(6171),_=n(2616),m=n(5338),p=function(e){var t=e.project;return t?s.createElement("div",{className:"counter"},s.createElement("div",{className:""},s.createElement(l.G,{icon:d.m6i,className:"counter__symbol counter__symbol--red"}),s.createElement("span",{className:"text--light"},t.countLiked)),s.createElement("div",{className:""},s.createElement(l.G,{icon:d.Mzg,className:"counter__symbol counter__symbol--orange"}),s.createElement("span",{className:"text--light"},t.countExpected)),s.createElement("div",{className:""},s.createElement(l.G,{icon:d.Mzg,className:"counter__symbol counter__symbol--green"}),s.createElement("span",{className:"text--light"},t.countReviews))):null},v=n(2765),f=n(7123),E=function(e){var t=e.content,n=e.author;return s.createElement("div",{className:"quote quote--close-to-others"},s.createElement("div",{className:"quote__content quote__content--dark-and-wide"},s.createElement("q",null,t),s.createElement("br",null),s.createElement("i",null,s.createElement("small",{className:"text--hand-written"},"- ",n))))};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t,n=e.project,r=e.setFilteredContents,c=(0,f.vW)();n.praise?t=n:n.projectReviews&&n.projectReviews.length>0&&(t=n.projectReviews.find((function(e){return e.userName===c})));var x=(0,s.useState)(!1),b=x[0],w=x[1],g=(0,s.useState)(!!t&&t.like),h=g[0],j=g[1],y=(0,s.useState)({}),R=y[0],k=y[1],O=(0,s.useState)(!1),P=O[0],D=O[1],C=(0,s.useRef)(null);(0,s.useEffect)((function(){C.current&&C.current.scrollIntoView()}),[P]);var M=(0,_.X)().userData,Z=(0,v.i)(),S=Z.updateExpectedProjectReview,G=Z.createFreeProjectReview,I=Z.updateAllReviewsData,F=Z.updateMyReviewSummaryData,U=Z.updateMyReviewsData,A=Z.myReviewSummaryData,L=function(){var e=(0,a.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(R).length){e.next=2;break}return e.abrupt("return");case 2:if(R.praise||t&&t.praise){e.next=4;break}return e.abrupt("return");case 4:if(R.notImpressed||t&&t.notImpressed){e.next=6;break}return e.abrupt("return");case 6:if(!t){e.next=12;break}return e.next=9,S(R,t._id);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,G(R,n._id);case 14:a=e.sent;case 15:if(k({}),w(!1),!a){e.next=25;break}return e.next=20,I(n.projectGroupName);case 20:return e.next=22,F(M.userName,n.projectGroupName);case 22:return e.next=24,U(M.userName,n.projectGroupName);case 24:r(void 0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){k((function(t){return N(N({},t),e)}))};return n?s.createElement("div",{className:"index__card"+(b?" index__card--is-being-edited":P?" index--long-text":""),ref:C},s.createElement("div",{className:"index__card__header"},s.createElement("span",null,"Projet N° "+n.shortId+" : "+n.name)),s.createElement("div",{className:"index__card__header"},s.createElement(p,{project:n})),s.createElement("div",{className:"index__card__description"},n.projectMembers.includes(c)||b||P?"":s.createElement(l.G,{icon:d.Z6I,onClick:function(){w(!0)}}),b&&s.createElement(l.G,{icon:d.r6l,onClick:L}),b&&s.createElement(l.G,{icon:d.NBC,onClick:function(){w(!1),k({})}}),!b&&!P&&A&&0===A.expectedReviews&&s.createElement(l.G,{icon:d.Mdf,onClick:function(){D(!0)}}),P&&s.createElement(l.G,{icon:d.NBC,onClick:function(){D(!1)}})),s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},"Ma revue ?"),s.createElement("div",{className:"index__card__content__description"},n.projectMembers.includes(c)?s.createElement(l.G,{icon:d.uMC}):t?s.createElement(l.G,{icon:d.f8k}):s.createElement(l.G,{icon:d.nYk}))),s.createElement("div",{className:"index__card__content"},void 0!==n.description?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Description"),s.createElement("div",{className:"index__card__content__description"},n.description)):""),s.createElement("div",{className:"index__card__content"},void 0!==n.presentationUrl?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),s.createElement("div",{className:"index__card__content__description"},s.createElement(o.Z,{src:n.presentationUrl}))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.frontendProductionUrl?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"URL du site"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.frontendProductionUrl,target:"_blank"},n.frontendProductionUrl))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.praise||b?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Mes points forts"),s.createElement(m.Z,{className:"index__card__content__description",isBeingEdited:b,id:"praise",startContent:t?t.praise:"",onChange:q})):""),s.createElement("div",{className:"index__card__content"},void 0!==n.notImpressed||b?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Mes points d'amélioration"),s.createElement(m.Z,{className:"index__card__content__description",isBeingEdited:b,id:"notImpressed",startContent:t?t.notImpressed:"",onChange:q})):""),s.createElement("div",{className:"index__card__content"},void 0!==n.frontendRepo?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Repo frontend"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.frontendRepo,target:"_blank"},n.frontendRepo))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.backendRepo?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Repo backend"),s.createElement("div",{className:"index__card__content__description"},s.createElement("a",{href:n.backendRepo,target:"_blank"},n.backendRepo))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.projectMembers&&n.projectMembers.length>0&&P?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Membres du projet"),s.createElement("div",{className:"index__card__content__description"},n.projectMembers.map((function(e){return(0,u.w)(e)})).join(", "))):""),s.createElement("div",{className:"index__card__content"},void 0!==n.like|b?s.createElement(s.Fragment,null,s.createElement("div",{className:"index__card__content__title"},"Favori ?"),s.createElement("div",{className:"index__card__content__description"},s.createElement("input",{type:"checkbox",checked:h,disabled:!b||0===A.availableLike||!(!h||R.like),onClick:function(e){j(!h),k(N(N({},R),{like:!h}))}}))):""),P&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points forts":""),s.createElement("div",{className:"index__card__content__description"},s.createElement(E,{content:e.praise,author:(0,u.w)(e.userName)})))})):"",P&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return s.createElement("div",{className:"index__card__content"},s.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points d'amélioration":""),s.createElement("div",{className:"index__card__content__description"},s.createElement(E,{content:e.notImpressed,author:(0,u.w)(e.userName)})))})):""):null}},2009:function(e,t,n){"use strict";var r=n(7294),a=n(3364),c=n(5514);t.Z=function(){return r.createElement("div",{className:"spinner"},r.createElement("div",{className:"spinner__overlay"}),r.createElement("div",{className:"spinner__animation"},r.createElement(a.G,{icon:c.LM3,className:"fa-3x fa-spin"})))}},6171:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=function(e){var t=e.substring(0,e.indexOf("@")),n=t.substring(0,t.indexOf(".")),r=t.substring(t.indexOf(".")+1);return n=n.charAt(0).toUpperCase()+n.slice(1),(r=r.charAt(0).toUpperCase()+r.slice(1)).indexOf(".")>=0&&(r=(r=r.substring(r.indexOf(".")+1)).charAt(0).toUpperCase()+r.slice(1)),n+" "+r}}}]);
//# sourceMappingURL=9d92d307e8f824a8549e6192aa2e0178007be8e8-96c025256a97d63d5995.js.map