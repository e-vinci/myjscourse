(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[355],{5338:function(e,t,n){"use strict";var r=n(7294),a=n(6267),c=n.n(a);t.Z=function(e){var t,n,a=e.className,i=e.isBeingEdited,o=e.onChange,s=e.startContent,d=e.id,l=e.isInline,u=e.children;return i?t=c().decode(s):u?t=u:s&&(t=c().decode(s)),n=a||"",i&&(n+=" index__card__content__description--is-being-edited"),l&&(n+=" index__card__content__description--is-inline"),r.createElement("div",{className:n,contentEditable:!!i,onInput:function(e){var t={};t[d]=e.currentTarget.textContent,o(t)},suppressContentEditableWarning:!0},t)}},2009:function(e,t,n){"use strict";var r=n(7294),a=n(3364),c=n(5514);t.Z=function(){return r.createElement("div",{className:"spinner"},r.createElement("div",{className:"spinner__overlay"}),r.createElement("div",{className:"spinner__animation"},r.createElement(a.G,{icon:c.LM3,className:"fa-3x fa-spin"})))}},1998:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7294),a=n(7261),c=n(6234),i=n(2616),o=n(2137),s=n(7757),d=n.n(s),l=(n(5444),n(820)),u=n(6156),_=(n(6267),n(3364)),m=n(5514),p=n(6171),f=n(5338);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.project,n=e.setFilteredContents,a=(0,r.useState)(!1),c=a[0],s=a[1],u=(0,r.useState)(t.isPublic),v=u[0],x=u[1],b=(0,r.useState)({}),g=b[0],h=b[1],j=(0,i.X)(),N=j.deleteOneProject,C=j.updateProjectData,k=j.addMemberToProject,P=j.deleteMemberFromProject,w=j.updateProject,O=j.userData,y=j.projectGroupData,Z=j.projectData,F=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return e.next=4,C(t.projectGroupName);case 4:n(void 0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:if(e.sent,!C){e.next=7;break}return e.next=6,C(t.projectGroupName);case 6:n(void 0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:if(e.sent,!C){e.next=7;break}return e.next=6,C(t.projectGroupName);case 6:n(void 0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.Z)(d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=10;break}return e.next=3,w(g,t._id);case 3:if(r=e.sent,h({}),s(!1),!r){e.next=10;break}return e.next=9,C(t.projectGroupName);case 9:n(void 0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){h((function(t){return E(E({},t),e)}))};return t?r.createElement("div",{className:"index__card"+(c?" index__card--is-being-edited":""),key:t.shortId,id:t.shortId},r.createElement("div",{className:"index__card__header"},r.createElement("span",null,"Projet N° "+t.shortId+" : "),r.createElement(f.Z,{isBeingEdited:c,id:"name",onChange:R,startContent:t.name,isInline:!0})),r.createElement("div",{className:"index__card__description"},O.isAdmin&&r.createElement(_.G,{icon:m.I7k,onClick:F}),(O.isAdmin||t.projectMembers.includes(O.userName)&&"end"!==y.status)&&!c?r.createElement(_.G,{icon:m.Xcf,onClick:function(){s(!0)}}):"","init"===y.status&&!Z.find((function(e){return e.projectMembers.includes(O.userName)}))&&t.projectMembers.length<y.maximumProjectMembers&&r.createElement(_.G,{icon:m.FKd,onClick:D}),"init"===y.status&&t.projectMembers.includes(O.userName)&&r.createElement(_.G,{icon:m.iC0,onClick:G}),c&&r.createElement(_.G,{icon:m.r6l,onClick:U}),c&&r.createElement(_.G,{icon:m.NBC,onClick:function(){s(!1),h({})}})),r.createElement("div",{className:"index__card__content"},void 0!==t.description?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Description"),r.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:c,id:"description",startContent:t.description,onChange:R})):""),r.createElement("div",{className:"index__card__content"},void 0!==t.presentationUrl?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),r.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:c,id:"presentationUrl",startContent:t.presentationUrl,onChange:R},r.createElement(l.Z,{src:t.presentationUrl}))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.frontendProductionUrl?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"URL du site"),r.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:c,id:"frontendProductionUrl",startContent:t.frontendProductionUrl,onChange:R},r.createElement("a",{href:t.frontendProductionUrl,target:"_blank"},t.frontendProductionUrl))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.frontendRepo?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Repo frontend"),r.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:c,id:"frontendRepo",startContent:t.frontendRepo,onChange:R},r.createElement("a",{href:t.frontendRepo,target:"_blank"},t.frontendRepo))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.backendRepo?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Repo backend"),r.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:c,id:"backendRepo",startContent:t.backendRepo,onChange:R},r.createElement("a",{href:t.backendRepo,target:"_blank"},t.backendRepo))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.projectMembers&&t.projectMembers.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Membres du projet"),r.createElement("div",{className:"index__card__content__description"},t.projectMembers.map((function(e){return(0,p.w)(e)})).join(", "))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.isPublic?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Public ?"),r.createElement("div",{className:"index__card__content__description"},r.createElement("input",{type:"checkbox",checked:v,disabled:!c,onClick:function(e){x(!v),h(E(E({},g),{isPublic:!v}))}}))):"")):null},b=function(e){var t=e.projects,n=e.setFilteredContents;return!t||t.length<=0?null:r.createElement(r.Fragment,null,t.map((function(e){return r.createElement(x,{project:e,setFilteredContents:n})})))},g=n(2009),h=function(){var e=(0,i.X)(),t=e.projectGroupData,n=e.updateProjectGroupData,a=e.userData,c=e.updateUserData,s=e.isLoaded,l=e.projectData,u=e.addOneProject,_=e.updateProjectData,m=(0,r.useState)(void 0),p=m[0],f=m[1],v=(0,r.useState)(""),E=(v[0],v[1]),x=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.next=4,_(t._id);case 4:e.sent,f(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){h()}),[]);var h=function(){var e=(0,o.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return t=e.sent,e.next=6,c();case 6:return e.sent,e.next=9,_(t._id);case 9:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("getData:error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,!s&&r.createElement(g.Z,null),void 0===t?"":r.createElement("div",{className:"pl-3 pt-3 pb-3 pr-3"},r.createElement("h3",{className:""},"Projets des groupes de ",t._id),r.createElement("div",{className:"index"},r.createElement("input",{type:"text","aria-label":"Search",placeholder:"Filtrez les contenus...",onChange:function(e){var t=e.target.value;E(e.target.value);var n=l.filter((function(e){var n=e.shortId,r=e.name,a=e.description;return r.toLowerCase().includes(t.toLowerCase())||a.toLowerCase().includes(t.toLowerCase())||t.length>0&&parseInt(t)===n}));n&&n.length>0?f(n):f(void 0)},className:"index__search"}),p&&p.length>0?r.createElement(b,{projects:p,setFilteredContents:f}):r.createElement(b,{projects:l,setFilteredContents:f})),void 0!==a&&a.isAdmin?r.createElement("button",{className:"index__button",onClick:x},"Ajouter projet"):""))},j=(0,c.O)((function(){return r.createElement(i.a,null,r.createElement(a.Z,null,r.createElement(h,null)))}))},6171:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=function(e){var t=e.substring(0,e.indexOf("@")),n=t.substring(0,t.indexOf(".")),r=t.substring(t.indexOf(".")+1);return n=n.charAt(0).toUpperCase()+n.slice(1),(r=r.charAt(0).toUpperCase()+r.slice(1)).indexOf(".")>=0&&(r=(r=r.substring(r.indexOf(".")+1)).charAt(0).toUpperCase()+r.slice(1)),n+" "+r}}}]);
//# sourceMappingURL=component---src-pages-project-page-js-e7d5e4c4b18660ee358c.js.map