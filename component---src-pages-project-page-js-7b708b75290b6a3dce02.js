(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[355],{1063:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7294),a=n(7261),c=n(6234),s=n(1199),i=n(2137),o=n(7757),l=n.n(o),d=(n(5444),n(820)),u=n(6267),_=n.n(u),m=n(4280),p=n(5514),v=function(e){var t=e.project,n=e.setFilteredContents,a=(0,s.X)(),c=a.deleteOneProject,o=a.updateProjectData,u=a.addMemberToProject,v=a.deleteMemberFromProject,f=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return e.next=4,o(t.projectGroupName);case 4:n(void 0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:if(e.sent,!o){e.next=7;break}return e.next=6,o(t.projectGroupName);case 6:n(void 0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:if(e.sent,!o){e.next=7;break}return e.next=6,o(t.projectGroupName);case 6:n(void 0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?r.createElement("div",{className:"index__card",key:t.shortId,id:t.shortId},r.createElement("div",{className:"index__card__header"},"Projet N° "+t.shortId+" : "+t.name),r.createElement("div",{className:"index__card__description"},r.createElement(m.G,{icon:p.I7k,onClick:f}),r.createElement(m.G,{icon:p.Xcf}),r.createElement(m.G,{icon:p.FKd,onClick:E}),r.createElement(m.G,{icon:p.iC0,onClick:x})),r.createElement("div",{className:"index__card__content"},void 0!==t.description?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Description"),r.createElement("div",{className:"index__card__content__description"},_().decode(t.description))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.presentationUrl?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),r.createElement("div",{className:"index__card__content__description"},r.createElement(d.Z,{src:t.presentationUrl}))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.frontendProductionUrl?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"URL du site"),r.createElement("div",{className:"index__card__content__description"},r.createElement("a",{href:t.frontendProductionUrl,target:"_blank"},t.frontendProductionUrl))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.frontendRepo?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Repo frontend"),r.createElement("div",{className:"index__card__content__description"},r.createElement("a",{href:t.frontendRepo,target:"_blank"},t.frontendRepo))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.backendRepo?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Repo backend"),r.createElement("div",{className:"index__card__content__description"},r.createElement("a",{href:t.backendRepo,target:"_blank"},t.backendRepo))):""),r.createElement("div",{className:"index__card__content"},void 0!==t.projectMembers&&t.projectMembers.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"index__card__content__title"},"Membres du projet"),r.createElement("div",{className:"index__card__content__description"},t.projectMembers.map((function(e){return n=(t=e).substring(0,t.indexOf("@")),r=n.substring(0,n.indexOf(".")),a=n.substring(n.indexOf(".")+1),r=r.charAt(0).toUpperCase()+r.slice(1),(a=a.charAt(0).toUpperCase()+a.slice(1)).indexOf(".")>=0&&(a=(a=a.substring(a.indexOf(".")+1)).charAt(0).toUpperCase()+a.slice(1)),r+" "+a;var t,n,r,a})).join(", "))):"")):null},f=function(e){var t=e.projects,n=e.setFilteredContents;return!t||t.length<=0?null:r.createElement(r.Fragment,null,t.map((function(e){return r.createElement(v,{project:e,setFilteredContents:n})})))},E=function(){return r.createElement("div",{className:"spinner"},r.createElement("div",{className:"spinner__overlay"}),r.createElement("div",{className:"spinner__animation"},r.createElement(m.G,{icon:p.LM3,className:"fa-3x fa-spin"})))},x=function(){var e=(0,s.X)(),t=e.projectGroupData,n=e.updateProjectGroupData,a=e.userData,c=e.updateUserData,o=e.isLoaded,d=e.projectData,u=e.addOneProject,_=e.updateProjectData,m=(0,r.useState)(void 0),p=m[0],v=m[1],x=(0,r.useState)(""),h=(x[0],x[1]),N=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.next=4,_(t._id);case 4:e.sent,v(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){j()}),[]);var j=function(){var e=(0,i.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return t=e.sent,e.next=6,c();case 6:return e.sent,e.next=9,_(t._id);case 9:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("getData:error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,void 0===t?"":r.createElement("div",{className:"pl-3 pt-3 pb-3 pr-3"},r.createElement("h3",{className:""},"Projets des groupes de ",t._id),r.createElement("div",{className:"index"},r.createElement("input",{type:"text","aria-label":"Search",placeholder:"Filtrez les contenus...",onChange:function(e){var t=e.target.value;h(e.target.value);var n=d.filter((function(e){var n=e.shortId,r=e.name,a=e.description;return r.toLowerCase().includes(t.toLowerCase())||a.toLowerCase().includes(t.toLowerCase())||t.length>0&&parseInt(t)===n}));n&&n.length>0?v(n):v(void 0)},className:"index__search"}),p&&p.length>0?r.createElement(f,{projects:p,setFilteredContents:v}):r.createElement(f,{projects:d,setFilteredContents:v})),void 0!==a&&a.isAdmin?r.createElement("button",{className:"index__button",onClick:N},"Ajouter projet"):""),!o&&r.createElement(E,null))},h=(0,c.O)((function(){return r.createElement(s.a,null,r.createElement(a.Z,null,r.createElement(x,null)))}))}}]);
//# sourceMappingURL=component---src-pages-project-page-js-7b708b75290b6a3dce02.js.map