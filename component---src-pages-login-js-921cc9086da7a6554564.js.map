{"version":3,"sources":["webpack://myjscourse/./src/pages/login.js"],"names":["useState","isSigned","setIsSigned","useEffect","onSigningIn","signIn","isSignedIn","navigate","Link","to","S","src","alt","width","height"],"mappings":"slCA+CA,UAxCc,WAAO,IAAD,GACcA,eAAS,GAAlCC,EADW,KACDC,EADC,MAGlBC,gBAAU,WAEHF,GAAUG,OAIjB,IAAMA,EAAW,mCAAG,qGACOC,UADP,OACZC,EADY,OAElBJ,EAAYI,GAFM,2CAAH,qDAKjB,OAAIL,IACFM,cAAS,iBACF,MAIP,gBAAC,IAAD,KACA,2BACE,+DAEE,gBAAC,EAAAC,KAAD,CAAMC,GAAG,UACP,gBAAC,EAAAC,EAAD,CACEC,IAAI,2BACJC,IAAI,GACJC,MAAM,KACNC,OAAO,KAJT,sBADF,OAFF","file":"component---src-pages-login-js-921cc9086da7a6554564.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { signIn } from \"../utils/auths/authPopup.js\";\r\nimport { navigate } from \"gatsby\";\r\nimport { Link } from \"gatsby\";\r\nimport { StaticImage } from \"gatsby-plugin-image\";\r\nimport MainLayout from \"../components/main-layout\";\r\n\r\nconst Login = () => {\r\n  const [isSigned, setIsSigned] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // You need to restrict it at some point\r\n    if (!isSigned) onSigningIn();\r\n  });\r\n\r\n  // call the popup function from MS Azure AD\r\n  const onSigningIn = async () => {\r\n    const isSignedIn = await signIn();\r\n    setIsSigned(isSignedIn);\r\n  };\r\n\r\n  if (isSigned) {\r\n    navigate(\"/project-page\");\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n    <div>\r\n      <p>\r\n        Vous pouvez vous logger en cliquant\r\n        <Link to=\"/login\">\r\n          <StaticImage\r\n            src=\"../images/logo_vinci.png\"\r\n            alt=\"\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n          />\r\n          ici\r\n        </Link>\r\n        ou dans le menu.\r\n      </p>\r\n    </div>\r\n    </MainLayout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}